{% if documents %}
    <table class="table table-sm align-middle">
      <thead>
          <tr>
              <th>Title</th>
              <th>Status</th>
              <th>Uploaded</th>
              <th>Action</th>
          </tr>
      </thead>
      <tbody>
          {% for doc in documents %}
          <tr>
              <td>{{ doc.title }}</td>
              <td>
                  {% if doc.status == "ready" %}
                      <span class="badge bg-success">Ready</span>
                  {% elif doc.status == "indexing" %}
                      <span class="badge bg-warning text-dark">Indexing</span>
                  {% elif doc.status == "pending" %}
                      <span class="badge bg-secondary">Pending</span>
                  {% else %}
                      <span class="badge bg-danger">Error</span>
                  {% endif %}
              </td>
              <td>{{ doc.created_at.strftime('%Y-%m-%d') }}</td>
              <td>
                <button  class="btn btn-danger btn-sm" hx-post="{{ url('document_manager:delete_document', args=[doc.id])}}"
                hx-confirm="Are you sure you want to delete this document ?" hx-trigger="click" {% if doc.status != 'ready' %} disabled {% endif %}
                >Delete</button>
                <button  class="btn btn-outline-secondary btn-sm" hx-post="{{ url('document_manager:reindex_document', args=[doc.id])}}"
                hx-confirm="Re-index document ? this will rebuild embeddings" hx-trigger="click" {% if doc.status != 'ready' %} disabled {% endif %}
                >Re-index</button>
              </td>
          </tr>
          {% endfor %}
      </tbody>
  </table>
{% else %}
  <p class="text-muted">No documents uploaded yet.</p>
{% endif %}